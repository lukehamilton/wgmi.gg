generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

model User {
  address        String @id @unique
  projects       Project[]
  links          Link[]
  verifications  Verification[]
}

model Project {
  id                Int            @id @default(autoincrement())
  submitterAddress  String
  submitter         User           @relation(fields: [submitterAddress], references: [address])
  name              String
  slug              String         @unique
  links             Link[]
}

model Link {
  id                Int    @id @default(autoincrement())
  url               String @unique
  projectId         Int
  project           Project @relation(fields: [projectId], references: [id])
}

model Verification {
  projectId  Int
  verifierId Int
  id         Int     @id @default(autoincrement())
  project    Project @relation(fields: [projectId], references: [id])
  verifier   User    @relation(fields: [verifierId], references: [id])
  assets     Asset[]
}
